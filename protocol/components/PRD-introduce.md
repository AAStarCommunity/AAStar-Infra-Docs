# 产品方案
## 整体架构
我们在构建一个协议的生态体系，基于互联网和Web3，基于SuperChain/Optimism建立公共物品的区块链.
生态体系从技术上包括基础设施：AirAccount和SuperPaymaster、应用框架：COS72、组件（很多）、计算服务：SDSS/雨计算、dApps五个层次。
账户体系AirAccount和SuperPaymaster作为一个基础设施，它会服务于所有的链上交易行为，COS72是它是一个联合的应用框架，一方面整合交易流程，另外也整合所有组件能力，所有组件都是被COS72整合的。
而更底层的计算服务SDSS/雨计算，是计算层面的更底层计算基础设施，承接所有基础设施和应用框架和组件的计算需求。
更上层就是一个个的dApps了，他们会调用COS72提供的API和指标等能力和数据，来构建自己的dApps服务。
组件提供更通用的业务功能，例如支付、积分、信用、抵押、仲裁、社交基础、游戏框架、徽章、积分、声誉机制等等，而dApps专注更个性的应用场景。
示意图：
![](https://raw.githubusercontent.com/jhfnetboy/MarkDownImg/main/img/202503211443850.png)
我们来距离描述一个场景，你构建了一个dApps，帮助社区进行去中心担保交易，叫dEndorsementBoat。
用户有多方：
1. 交易发起人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。大额交易，往往会需要多个发起人，例如10万美元的儿童玩具和自行车。
2. 交易接收人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。交易接收人如果没有足够的抵押和担保，需要申请交易担保人。
3. 交易担保人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。交易担保人是去中心的，但是建议是和交易接收人在一个社区，并且拥有一定的社会关系，无论网上还是线下的。
4. 交易仲裁人：需要拥有我们的账户体系，需要具备社区积分和reputation，交易仲裁人是去中心的，当遇到线下重要环节时，需要申请交易仲裁人来保障线下交易的顺利进行。
这个产品dApp，就需要基于COS72来开发，相对于COS72来说，它是一个组件或者dApp，调用COS72汇总的其他能力，业务能力方面例如积分，信用，抵押和释放流程，Jury陪审团的仲裁介入，同社区的社交关系关联担保。在可控范围内，可以实现去中心化担保交易。在更底层是账户和Gas支付，以及去中心化雨计算服务的支持。
而普通人想要安装dEndorsementBoat，只需要安装了COS72的客户端，选择这个应用，安装即可。
## 基础设施
### AirAccount服务
账户的生命周期服务，包括注册、绑定、解绑、搬家、恢复等。基于页面方式访问和交互，数据库存储在PostgreSQL（节点加密），关键链上数据提交到到Ethereum/OP等链，提供。
包含一系列的服务，依赖于社区数据和社区关系等。
一个完成的图示：
TODO

#### 账户绑定服务
凭证控制余额，接受中心化和去中心的凭证，对凭证的验证和确认（存储），以及依赖指纹提供的passkey，来绑定到新生成的账户上。本质是提供凭证-->验证凭证-->记录凭证-->绑定账户。其中生成账户在下一个模块完成。
未来可能接受：合约账户注册和新增绑定（非Airaccount合约），可以享受Gas代付服务，但父子账户、社交恢复等依赖合约代码的无法享受。
未来计划提供：Stealth Address。
#### 账户注册服务
根据凭证生成账户，并把绑定关系注册到Node所运行的数据库，完成一个可迁移账户的注册（生成+绑定）。
对于合约账户因为不是大额资产账户，会提供BLS门限签名（三合一）选择，配置完毕后，可以享受未来的社交恢复。
而Gas代付的卡片，一般是购买社区的NFT或者赠送的白卡（OpenCards），为社区做出贡献，获得积分，支付Gas fee。
#### 账户管理服务
核心基础能力：交易和支付（无Gas）
常规服务：账户信息管理（绑定信息更换），账户关闭（清空账户），账户动账通知，对账单，定期代付/订阅
账户管理包括：设置日限额、父子账户、社交恢复、自动遗嘱等，这些依赖于注册时的设置，也提供类似于银行账户的管理能力。
未来：社区项目投资（使用积分）
### SuperPaymaster服务
### 计算基础设施：SDSS计算服务/雨计算  
N1(Node1)：Nextjs,Tauri，不承担直接计算任务，只缓存一些数据做基础P2P的CDN或者通信中转、路由复制等服务。
N2(Node2)：Nextjs,Tauri,Rust，承担直接计算任务，提供计算服务：静态资源访问，页面生成计算，数据索引服务等。
N3(Node3):Nextjs,Tauri,Rust,TEE+适合的CPU硬件+开源SupaBase(需要魔改)
## 组件
基于基础设施而开发的，专注于业务功能的产品，在生态中我们称之为组件。
### PNTs/OpenPNTs
积分主要是依赖于ERC20和这个相关的扩展合约，然后基于这个模板帮助其他的社区去发行自己的积分体系。包括系列的抵押，包括承诺和承诺的实时计算，还包括Ratio计算。也包括一个Pool，可以进行积分的兑换。
### Perks
Account-->PNTs-->Rules-->Perks
社区可以定制各种链上规则，提供模板，基于模板建立不同的规则上链，上链之前需要基于这个二次方点赞QVThumbUp来征求大家的同意。
### Cards/OpenCards
基础能力，为每个账户提供gas代付能力，基于社区的各种积分；同时赋能社区，发行积分，运营社区，获得可持续性的收入。
### Shops
社区的交换有很多种，方便的交易方式，基于积分的兑换，基于积分的购买，基于积分的支付。会依赖PNTs提供的公共池。提供简单快捷的item发布和支付，以及异步通知服务（基于中心和去中心化双层保险的及时通知服务）。
### Games
目前初步完成了Arcadia的demo，但还没有完成一个通用性的框架，设计思考中。https://arcadia-business.netlify.app/
### Agents
逐步为社区提供内部的AI助手，可以回答问题，提供帮助，了解社区所有的故事、使命、贡献和细节。
### CBots
逐步为社区提供外部的社交媒体运营助手，自动化发布内容，自动化管理社区。
### Jurys
逐步为社区提供去中心的裁判，当社区需要进行去中心的裁判时，可以申请 Jurys。
### Reputation/Entropic
所有行为，都会记录Entropic，可以看做一种生命力，一种活跃度，一种活力。是客观度量。
而reputation是社区内的人的共识，是主观度量。社区成员可以设置各种荣誉称号，可以基于Entropic来考量。
### QVThumbUp
完成所有持有账户人员的以积分进行投票的目标，默认投票就自动支付1PNTs。所有社区活动，包括治理、规则、决策等，都可以在发布时添加QVThumbUp，来获取足够的社区成员投票和自动执行。



