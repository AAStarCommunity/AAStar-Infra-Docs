# 技术方案
## 整体技术架构
账户体系AirAccount和SuperPaymaster作为一个基础设施，它会服务于所有的链上交易行为，COS72是它是一个联合的应用框架，一方面整合交易流程，另外也整合所有组件能力，所有组件都是被COS72整合的。
而更底层的计算服务SDSS/雨计算，是计算层面的更底层计算基础设施，承接所有基础设施和应用框架和组件的计算需求。
更上层就是一个个的dApps了，他们会调用COS72提供的API和指标等能力和数据，来构建自己的dApps服务。
示意图：
![](https://raw.githubusercontent.com/jhfnetboy/MarkDownImg/main/img/202503211443850.png)
我们来距离描述一个场景，你构建了一个dApps，帮助社区进行去中心担保交易，叫dEndorsementBoat。
用户有多方：
1. 交易发起人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。大额交易，往往会需要多个发起人，例如10万美元的儿童玩具和自行车。
2. 交易接收人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。交易接收人如果没有足够的抵押和担保，需要申请交易担保人。
3. 交易担保人：需要拥有我们的账户体系，需要具备社区积分和reputation，同时需要stake ETH和社区治理token，来确保有诚意完成交易。交易担保人是去中心的，但是建议是和交易接收人在一个社区，并且拥有一定的社会关系，无论网上还是线下的。
4. 交易仲裁人：需要拥有我们的账户体系，需要具备社区积分和reputation，交易仲裁人是去中心的，当遇到线下重要环节时，需要申请交易仲裁人来保障线下交易的顺利进行。
这个产品dApp，就需要基于COS72来开发，相对于COS72来说，它是一个组件，调用COS72汇总的其他能力，业务能力方面例如积分，信用，抵押和释放流程，Jury陪审团的仲裁介入，同社区的社交关系关联担保。在可控范围内，可以实现去中心化担保交易。在更底层是账户和Gas支付，以及去中心化雨计算服务的支持。
而普通人想要安装dEndorsementBoat，只需要安装了COS72的客户端，选择这个应用，安装即可。
## 基础设施
### AirAccount服务
账户的生命周期服务，包括注册、绑定、解绑、搬家、恢复等。基于页面方式访问和交互，数据库存储在PostgreSQL（节点加密），关键链上数据提交到到Ethereum/OP等链，提供。
包含一系列的服务，依赖于社区数据和社区关系等。
一个完成的图示：
TODO

#### 账户绑定服务
凭证控制余额，接受中心化和去中心的凭证，对凭证的验证和确认（存储），以及依赖指纹提供的passkey，来绑定到新生成的账户上。本质是提供凭证-->验证凭证-->记录凭证-->绑定账户。其中生成账户在下一个模块完成。
未来可能接受：合约账户注册和新增绑定（非Airaccount合约），可以享受Gas代付服务，但父子账户、社交恢复等依赖合约代码的无法享受。
未来计划提供：Stealth Address。
#### 账户注册服务
#### 账户管理服务

### SuperPaymaster服务
### 计算基础设施：SDSS计算服务/雨计算  
N1(Node1)：Nextjs,Tauri，不承担直接计算任务，只缓存一些数据做基础P2P的CDN或者通信中转、路由复制等服务。
N2(Node2)：Nextjs,Tauri,Rust，承担直接计算任务，提供计算服务：静态资源访问，页面生成计算，数据索引服务等。
N3(Node3):Nextjs,Tauri,Rust,TEE+适合的CPU硬件+开源SupaBase(需要魔改)

## 组件
### PNTs/OpenPNTs
### Perks
### Cards/OpenCards
### Shops
### Games
### Agents
### CBots
### Jurys
### Reputation/Entropic



